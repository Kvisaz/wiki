# Git SSH под Windows

[<------------ Индекс ](../README.md)

Самый простой способ на виндовс для добавления в профиль на гитхабе ssh ключа

1. создаем репозиторий на гитхаб
2. гит инит нашему проекту на машине
3. "git remote add origin git@github.com:Вы/Ваш проект.git
4. "git add ."

Мы подготовили свежий проект для пушей, осталось настроить SSH ключ

4 открываем Git Bash (юникс-подобная обертка для командной строки)
5."ssh-keygen -t rsa -b 4096 -C sergey.zoomaster@gmail.com"

Далее появится "Enter file in which to save the key (/c/Users/Вы/.ssh/id_rsa):"
Если не будет введено имя файло (путь/файл), то будет создан ключ в скобках
ВАЖНО
ПОСКОЛЬКУ НАМ НУЖЕН САМЫЙ ЛЕГКИЙ И ДОСТУПНЫЙ СПОСОБ, ТО МЫ ОСТАВЛЯЕМ ЭТО ПОЛЕ ПУСТЫМ
ГЕНЕРИРУЯ НАЗВАНИЕ ФАЙЛА ПО УМОЛЧАНИЮ

6. жмем Enter без указания имени ключа, уповая на дефолт

Теперь у нас попросят задать фразу-пароль для ключа. Два раза. Первый задаем, второй повторяем.
Оба эти шага можно пропустить, нажав Enter, оставив ключ без фразы-пароля.

"Enter passphrase (empty for no passphrase):
Enter same passphrase again:"

7.Жмем два раза Enter

Теперь мы хотим проверить доступность нашего ключа. Её можно пропустить если что.
Проверяем следующим образом "eval "$(ssh-agent -s)" Кстати именно из-за этого нам нужен гит баш.

8.eval "$(ssh-agent -s)"

Появляется некая дата, которая на самом деле нам ничего не говорит. Обычно, если существовали еще ключи до этого, то дата будет другой.

Теперь мы хотим добавить наш ключ в для нашего ssh агента. Если мы не задавали определенное имя файлам нашего ключа, то это будет
"$ ssh-add ~/.ssh/id_rsa"

```
у меня такое ощущение, что ""$ ssh-add ~/.ssh/id_rsa"" приходится повторять каждый раз при открытии консоли

id_rsa - кстатИ! - это название файла, у меня оно другое.
```

Появится сообщение "Identity added: /c/Users/Вы/.ssh/id_rsa (Ваше мыло)"
Неплохо, кажется наш ключ найден. Добавим его на гитхаб.

Скопируем его содержимое в буфер обмена командой "cat ~/.ssh/id_rsa.pub"
Либо открыв файл текстовым редактором и скопировав содержимое.
Идем на гитхаб. Открываем настройки профиля GitHub.

[https://github.com/settings/keys](https://github.com/settings/keys)

Переходим в "SSH keys and GPG keys".
В тайтле пишем либо название файла нашего ключа, либо что хочется.
В Key отписываем содержимое ключа из буфера обмена.

9. Add SSH Key

Возращаемся в гит бащ терминал. Мы хотим проверить, что все получилось.
"$ ssh -T git@github.com
Hi Вы! You've successfully authenticated, but GitHub does not provide shell access."
Если вы получили этой сообщение, то кажется все удалось. Пробуем отпушить наш проект.

Открываем нашу обычную cmd.exe консоль.

! У меня получилось только через git-bash, обычная отказалась

10. Открываем cmd.exe
11. Переходим в папку проекта.
12. git push origin master

Если вывело что-то наподобие этого, то у нас получилось.

Enumerating objects: 10, done.
Counting objects: 100% (10/10), done.
Delta compression using up to 12 threads
Compressing objects: 100% (9/9), done.
Writing objects: 100% (10/10), 2.23 KiB | 2.23 MiB/s, done.
Total 10 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), done.

## WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED

Обычно это происходит, если вы поменяли оборудование на сервере, к которому подключаетесь, или если на удаленном сервере изменились настройки.

Если вы получили это сообщение об ошибке, вы можете исправить ее, удалив хост из файла ssh known_hosts и добавив его обратно:

ssh-keygen -R github.com
ssh-keyscan -t rsa github.com >> ~/.ssh/known_hosts
ssh-keyscan -H github.com >> ~/.ssh/known_hosts

[<------------ Индекс ](../README.md)
